

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Modules &mdash; Tryton Test 0.1 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../../../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../../" src="../../../_static/documentation_options.js"></script>
        <script src="../../../_static/jquery.js"></script>
        <script src="../../../_static/underscore.js"></script>
        <script src="../../../_static/doctools.js"></script>
        <script src="../../../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../../../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
    <link rel="next" title="Translation" href="../translation.html" />
    <link rel="prev" title="Sending notifications" href="../bus.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../../index.html" class="icon icon-home"> Tryton Test
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../../../client-desktop/index-client-desktop.html">Tryton Desktop Client</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../web-client/index-web-client.html">Tryton Web Client</a></li>
</ul>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="../../index-server.html">Tryton Server</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../../index-server.html#first-steps">First steps</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../index-server.html#the-model-layer">The model layer</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../index-server.html#the-view-layer">The view layer</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../index-server.html#the-development-process">The development process</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../../index-server.html#contents">Contents</a><ul class="current">
<li class="toctree-l3 current"><a class="reference internal" href="../index-topics.html">Using trytond</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="../install.html">How to install Tryton</a></li>
<li class="toctree-l4"><a class="reference internal" href="../configuration.html">Configuration file for Tryton</a></li>
<li class="toctree-l4"><a class="reference internal" href="../setup_database.html">How to setup a database</a></li>
<li class="toctree-l4"><a class="reference internal" href="../logs.html">Logging configuration</a></li>
<li class="toctree-l4"><a class="reference internal" href="../start_server.html">How to start the server</a></li>
<li class="toctree-l4"><a class="reference internal" href="../models/index-topics-models.html">Models</a></li>
<li class="toctree-l4"><a class="reference internal" href="../backend_types.html">Backend Types supported</a></li>
<li class="toctree-l4"><a class="reference internal" href="../models/fields_default_value.html">Default value of fields</a></li>
<li class="toctree-l4"><a class="reference internal" href="../models/fields_on_change.html">on_change of fields</a></li>
<li class="toctree-l4"><a class="reference internal" href="../domain.html">Domain</a></li>
<li class="toctree-l4"><a class="reference internal" href="../pyson.html">PYSON</a></li>
<li class="toctree-l4"><a class="reference internal" href="../access_rights.html">Access Rights</a></li>
<li class="toctree-l4"><a class="reference internal" href="../user_errors_warnings.html">User Errors and Warnings</a></li>
<li class="toctree-l4"><a class="reference internal" href="../triggers.html">Triggers</a></li>
<li class="toctree-l4"><a class="reference internal" href="../actions.html">Actions</a></li>
<li class="toctree-l4"><a class="reference internal" href="../views/index-topics-views.html">Views</a></li>
<li class="toctree-l4"><a class="reference internal" href="../views/extension.html">Extending View</a></li>
<li class="toctree-l4"><a class="reference internal" href="../wizard.html">Wizard</a></li>
<li class="toctree-l4"><a class="reference internal" href="../reports/index-topics-reports.html">Reports</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rpc.html">Remote Procedure Call</a></li>
<li class="toctree-l4"><a class="reference internal" href="../task_queue.html">Task Queue</a></li>
<li class="toctree-l4"><a class="reference internal" href="../cron.html">Scheduled Actions</a></li>
<li class="toctree-l4"><a class="reference internal" href="../user_application.html">User Application</a></li>
<li class="toctree-l4"><a class="reference internal" href="../bus.html">Sending notifications</a></li>
<li class="toctree-l4 current"><a class="current reference internal" href="#">Modules</a></li>
<li class="toctree-l4"><a class="reference internal" href="../translation.html">Translation</a></li>
<li class="toctree-l4"><a class="reference internal" href="../testing.html">Testing</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../ref/ref-index.html">API Reference</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../index-server.html#indices-glossary-and-tables">Indices, glossary and tables</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../client-library/index-client-library.html">Tryton Scripting Client</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../modules/index-modules.html">App Modules</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../index.html">Tryton Test</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../../index.html">Docs</a> &raquo;</li>
        
          <li><a href="../../index-server.html">Tryton Server</a> &raquo;</li>
        
          <li><a href="../index-topics.html">Using trytond</a> &raquo;</li>
        
      <li>Modules</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../../../_sources/server/topics/modules/index-topics-modules.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="modules">
<span id="index-topics-modules"></span><h1>Modules<a class="headerlink" href="#modules" title="Permalink to this headline">¶</a></h1>
<p>The modules of Tryton extend the functionality of the platform. The server
comes by default with only a basic functionality included in these modules:
<code class="docutils literal notranslate"><span class="pre">ir</span></code>, <code class="docutils literal notranslate"><span class="pre">res</span></code>.</p>
<div class="section" id="module-structure">
<h2>Module Structure<a class="headerlink" href="#module-structure" title="Permalink to this headline">¶</a></h2>
<p>A module is a directory in trytond/modules which contains at least two files:</p>
<blockquote>
<div><ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">__init__.py</span></code>: a Tryton module must be a Python module.</li>
<li><code class="docutils literal notranslate"><span class="pre">tryton.cfg</span></code>: a Configuration file that describes the Tryton module.</li>
</ul>
</div></blockquote>
<div class="section" id="init-py-file">
<h3><code class="docutils literal notranslate"><span class="pre">__init__.py</span></code> file<a class="headerlink" href="#init-py-file" title="Permalink to this headline">¶</a></h3>
<p>It is the Python <code class="docutils literal notranslate"><span class="pre">__init__.py</span></code> to define a module. It must contains a method
named <cite>register()</cite> that must register to the pool all the objects of the module.</p>
</div>
<div class="section" id="tryton-cfg-file">
<h3><code class="docutils literal notranslate"><span class="pre">tryton.cfg</span></code> file<a class="headerlink" href="#tryton-cfg-file" title="Permalink to this headline">¶</a></h3>
<p>It is a configuration file using the format of <a class="reference external" href="http://docs.python.org/library/configparser.html" target="_blank">ConfigParser</a> that must
contain <cite>tryton</cite> section with this following name:</p>
<blockquote>
<div><ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">version</span></code>: The version number of the module.</li>
<li><code class="docutils literal notranslate"><span class="pre">depends</span></code>: A one per line list of modules on which this module depends.</li>
<li><code class="docutils literal notranslate"><span class="pre">extras_depend</span></code>: A one per line list of modules on which this module
<em>may</em> depend.</li>
<li><code class="docutils literal notranslate"><span class="pre">xml</span></code>: The one per line list of the XML files of the module. They will
be loaded in the given order at the installation or update of the module.</li>
</ul>
</div></blockquote>
<p>Here is an example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="n">tryton</span><span class="p">]</span>
<span class="n">version</span><span class="o">=</span><span class="mf">0.0</span><span class="o">.</span><span class="mi">1</span>
<span class="n">depends</span><span class="p">:</span>
    <span class="n">ir</span>
    <span class="n">res</span>
    <span class="n">country</span>
<span class="n">xml</span><span class="p">:</span>
    <span class="n">party</span><span class="o">.</span><span class="n">xml</span>
    <span class="n">category</span><span class="o">.</span><span class="n">xml</span>
    <span class="n">address</span><span class="o">.</span><span class="n">xml</span>
    <span class="n">contact_mechanism</span><span class="o">.</span><span class="n">xml</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="python-files">
<h2>Python Files<a class="headerlink" href="#python-files" title="Permalink to this headline">¶</a></h2>
<p>The Python files define the models for the modules.</p>
</div>
<div class="section" id="xml-files">
<h2>XML Files<a class="headerlink" href="#xml-files" title="Permalink to this headline">¶</a></h2>
<p>The XML files define data that will be inserted into the database.</p>
<p>There is an rnc for those files stored in <code class="docutils literal notranslate"><span class="pre">trytond/tryton.rnc</span></code>.</p>
<p>The following snippet gives a first idea of what an xml file looks:</p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="cp">&lt;?xml version=&quot;1.0&quot;?&gt;</span>
<span class="nt">&lt;tryton&gt;</span>
    <span class="nt">&lt;data&gt;</span>
        <span class="nt">&lt;record</span> <span class="na">model=</span><span class="s">&quot;res.group&quot;</span> <span class="na">id=</span><span class="s">&quot;group_party_admin&quot;</span><span class="nt">&gt;</span>
            <span class="nt">&lt;field</span> <span class="na">name=</span><span class="s">&quot;name&quot;</span><span class="nt">&gt;</span>Party Administration<span class="nt">&lt;/field&gt;</span>
        <span class="nt">&lt;/record&gt;</span>
        <span class="nt">&lt;record</span> <span class="na">model=</span><span class="s">&quot;res.user-res.group&quot;</span>
            <span class="na">id=</span><span class="s">&quot;user_admin_group_party_admin&quot;</span><span class="nt">&gt;</span>
            <span class="nt">&lt;field</span> <span class="na">name=</span><span class="s">&quot;user&quot;</span> <span class="na">ref=</span><span class="s">&quot;res.user_admin&quot;</span><span class="nt">/&gt;</span>
            <span class="nt">&lt;field</span> <span class="na">name=</span><span class="s">&quot;group&quot;</span> <span class="na">ref=</span><span class="s">&quot;group_party_admin&quot;</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;/record&gt;</span>

        <span class="nt">&lt;menuitem</span> <span class="na">name=</span><span class="s">&quot;Party Management&quot;</span> <span class="na">sequence=</span><span class="s">&quot;0&quot;</span> <span class="na">id=</span><span class="s">&quot;menu_party&quot;</span>
            <span class="na">icon=</span><span class="s">&quot;tryton-users&quot;</span><span class="nt">/&gt;</span>

        <span class="nt">&lt;record</span> <span class="na">model=</span><span class="s">&quot;ir.ui.view&quot;</span> <span class="na">id=</span><span class="s">&quot;party_view_tree&quot;</span><span class="nt">&gt;</span>
            <span class="nt">&lt;field</span> <span class="na">name=</span><span class="s">&quot;model&quot;</span><span class="nt">&gt;</span>party.party<span class="nt">&lt;/field&gt;</span>
            <span class="nt">&lt;field</span> <span class="na">name=</span><span class="s">&quot;type&quot;</span><span class="nt">&gt;</span>tree<span class="nt">&lt;/field&gt;</span>
            <span class="nt">&lt;field</span> <span class="na">name=</span><span class="s">&quot;arch&quot;</span><span class="nt">&gt;</span>
                <span class="cp">&lt;![CDATA[</span>
<span class="cp">                &lt;tree string=&quot;Parties&quot;&gt;</span>
<span class="cp">                    &lt;field name=&quot;code&quot;/&gt;</span>
<span class="cp">                    &lt;field name=&quot;name&quot;/&gt;</span>
<span class="cp">                    &lt;field name=&quot;lang&quot;/&gt;</span>
<span class="cp">                    &lt;field name=&quot;vat_code&quot;/&gt;</span>
<span class="cp">                    &lt;field name=&quot;active&quot; tree_invisible=&quot;1&quot;/&gt;</span>
<span class="cp">                    &lt;field name=&quot;vat_country&quot; tree_invisible=&quot;1&quot;/&gt;</span>
<span class="cp">                    &lt;field name=&quot;vat_number&quot; tree_invisible=&quot;1&quot;/&gt;</span>
<span class="cp">                &lt;/tree&gt;</span>
<span class="cp">                ]]&gt;</span>
            <span class="nt">&lt;/field&gt;</span>
        <span class="nt">&lt;/record&gt;</span>
    <span class="nt">&lt;/data&gt;</span>
<span class="nt">&lt;/tryton&gt;</span>
</pre></div>
</div>
<p>Here is the list of the tags:</p>
<blockquote>
<div><ul>
<li><p class="first"><code class="docutils literal notranslate"><span class="pre">tryton</span></code>: The main tag of the xml</p>
</li>
<li><p class="first"><code class="docutils literal notranslate"><span class="pre">data</span></code>: Define a set of data inside the file. It can have the
attributes:</p>
<blockquote>
<div><ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">noupdate</span></code> to prevent the framework to update the records,</li>
<li><code class="docutils literal notranslate"><span class="pre">depends</span></code> to import data only if all modules in the comma separated
module list value are installed,</li>
<li><code class="docutils literal notranslate"><span class="pre">grouped</span></code> to create records at the end with a grouped call.</li>
</ul>
</div></blockquote>
</li>
<li><p class="first"><code class="docutils literal notranslate"><span class="pre">record</span></code>: Create a record of the model defined by the attribute
<code class="docutils literal notranslate"><span class="pre">model</span></code> in the database. The <code class="docutils literal notranslate"><span class="pre">id</span></code> attribute can be used to refer to
the record later in any xml file.</p>
</li>
<li><p class="first"><code class="docutils literal notranslate"><span class="pre">field</span></code>: Set the value of the field with the name defined by the
attribute <code class="docutils literal notranslate"><span class="pre">name</span></code>.</p>
<p>Here is the list of attributes:</p>
<blockquote>
<div><ul>
<li><p class="first"><code class="docutils literal notranslate"><span class="pre">search</span></code>: Only for relation field. It contains a domain which is
used to search for the value to use. The first value found will be
used.</p>
</li>
<li><p class="first"><code class="docutils literal notranslate"><span class="pre">ref</span></code>: Only for relation field. It contains an xml id of the
relation to use as value. It must be prefixed by the module name with
an ending dot, if the record is defined in an other module.</p>
</li>
<li><p class="first"><code class="docutils literal notranslate"><span class="pre">eval</span></code>: Python code to evaluate and use result as value.
The following expressions are available:</p>
<blockquote>
<div><ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">time</span></code>: The python <a class="reference external" href="http://docs.python.org/library/time.html" target="_blank">time</a> module</li>
<li><code class="docutils literal notranslate"><span class="pre">version</span></code>: The current Tryton version</li>
<li><code class="docutils literal notranslate"><span class="pre">ref</span></code>: A function that converts an XML id into a database id.</li>
<li><code class="docutils literal notranslate"><span class="pre">Decimal</span></code>: The python <a class="reference external" href="https://docs.python.org/library/decimal.html" target="_blank">Decimal</a> object</li>
<li><code class="docutils literal notranslate"><span class="pre">datetime</span></code>: The python <a class="reference external" href="https://docs.python.org/library/datetime.html" target="_blank">datetime</a> module</li>
</ul>
</div></blockquote>
</li>
<li><p class="first"><code class="docutils literal notranslate"><span class="pre">pyson</span></code>: convert the evaluated value into <a class="reference internal" href="../../ref/pyson.html#ref-pyson"><span class="std std-ref">PYSON</span></a>
string.</p>
</li>
<li><p class="first"><code class="docutils literal notranslate"><span class="pre">depends</span></code>: set value only if all modules in the comma separated
module list value are installed.</p>
</li>
</ul>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Field content is considered as a string. So for fields that require
other types, it is required to use the <code class="docutils literal notranslate"><span class="pre">eval</span></code> attribute.</p>
</div>
</div></blockquote>
</li>
<li><p class="first"><code class="docutils literal notranslate"><span class="pre">menuitem</span></code>: Shortcut to create ir.ui.menu records.</p>
<p>Here is the list of attributes:</p>
<blockquote>
<div><ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">id</span></code>: The id of the menu.</li>
<li><code class="docutils literal notranslate"><span class="pre">name</span></code>: The name of the menu.</li>
<li><code class="docutils literal notranslate"><span class="pre">icon</span></code>: The icon of the menu.</li>
<li><code class="docutils literal notranslate"><span class="pre">sequence</span></code>: The sequence value used to order the menu entries.</li>
<li><code class="docutils literal notranslate"><span class="pre">parent</span></code>: The xml id of the parent menu.</li>
<li><code class="docutils literal notranslate"><span class="pre">action</span></code>: The xml id of the action linked to the menu.</li>
<li><code class="docutils literal notranslate"><span class="pre">groups</span></code>: A list of xml id of group, that have access to the menu,
separated by commas.</li>
<li><code class="docutils literal notranslate"><span class="pre">active</span></code>: A boolean telling if the menu is active or not.</li>
</ul>
</div></blockquote>
</li>
</ul>
</div></blockquote>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../translation.html" class="btn btn-neutral float-right" title="Translation" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="../bus.html" class="btn btn-neutral float-left" title="Sending notifications" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2020, Ume Abraham Kalu (Test Documentation)

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>